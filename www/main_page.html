<!DOCTYPE html>
<html lang="en">
  <head>
    <title>Maier</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0" charset="utf-8">

	<script src="js/jquery-2.1.1.min.js"></script> 

	<script src="js/simple-slider.js"></script>

	<link href="css/simple-slider.css" rel="stylesheet" type="text/css" />
	<link href="css/simple-slider-volume.css" rel="stylesheet" type="text/css" />  

<style>
[class^=slider] { display: inline-block; margin-bottom: 0}
</style>

	<link href="css/bootstrap.css" rel="stylesheet">	
	<link href="css/bootstrap-theme.css" rel="stylesheet"> 

	<script>			  
      var g1, g2, g3, g4, g5, g6;
      
      window.onload = function(){

		var g1 = new JustGage({
			id: "g1", 
			value: VAR_analog_output1, 
			min: 0,
			max: 100,
			title: "Analog Output 1",
			label: "",    
			gaugeWidthScale: 0.4          
		});

		var g2 = new JustGage({
			id: "g2", 
			value: VAR_analog_output2, 
			min: 0,
			max: 100,
			title: "Analog Output 2",
			label: "",    
			gaugeWidthScale: 0.4          
		});		
		
		var g3 = new JustGage({
			id: "g3", 
			value: VAR_analog_output3, 
			min: 0,
			max: 100,
			title: "Analog Output 3",
			label: "",    
			gaugeWidthScale: 0.4          
		});		

		var g4 = new JustGage({
			id: "g4", 
			value: VAR_analog_output4, 
			min: 0,
			max: 100,
			title: "Analog Output 4",
			label: "",    
			gaugeWidthScale: 0.4          
		});		
		
		$("#serial_name").val("VAR_serial_name");

		$("#update_serial_name_btn").click(function () {
			$.get( "/configcomms.html", { name: $("#serial_name").val(), tm:VAR_tval }, 0 ); });	
		
		$("#analoginput1").bind("slider:changed", function (event, data) {	$.post("/analoginput.html",  {  aot:"1",  aod:data.value  }, 0 ); });
		$("#analoginput2").bind("slider:changed", function (event, data) {	$.post("/analoginput.html",  {  aot:"2",  aod:data.value  }, 0 ); });
		$("#analoginput3").bind("slider:changed", function (event, data) {	$.post("/analoginput.html",  {  aot:"3",  aod:data.value  }, 0 ); });
		$("#analoginput4").bind("slider:changed", function (event, data) {	$.post("/analoginput.html",  {  aot:"4",  aod:data.value  }, 0 ); });
				
		$("#analoginput5").bind("slider:changed", function (event, data) {	$.post("/analoginput.html",  {  aot:"5",  aod:data.value  }, 0 ); });
		$("#analoginput6").bind("slider:changed", function (event, data) {	$.post("/analoginput.html",  {  aot:"6",  aod:data.value  }, 0 ); });
		$("#analoginput7").bind("slider:changed", function (event, data) {	$.post("/analoginput.html",  {  aot:"7",  aod:data.value  }, 0 ); });
		$("#analoginput8").bind("slider:changed", function (event, data) {	$.post("/analoginput.html",  {  aot:"8",  aod:data.value  }, 0 ); });
		
		var auto_refresh = setInterval(
		function ()
		{
			$("#comms_log").load("/readcomms.html?value=VAR_tval");
			$.get( "/readanalog.html?input=1&amp;value=VAR_tval", function( data ) { g1.refresh(data); });
			$.get( "/readanalog.html?input=2&amp;value=VAR_tval", function( data ) { g2.refresh(data); });
			$.get( "/readanalog.html?input=3&amp;value=VAR_tval", function( data ) { g3.refresh(data); });
			$.get( "/readanalog.html?input=4&amp;value=VAR_tval", function( data ) { g4.refresh(data); });

			$.get("/readdigital.html?input=01&amp;value=VAR_tval", function (data) { $("#digital00").attr("src", data+"?VAR_tval"); });
			$.get("/readdigital.html?input=02&amp;value=VAR_tval", function (data) { $("#digital01").attr("src", data+"?VAR_tval"); });
			$.get("/readdigital.html?input=03&amp;value=VAR_tval", function (data) { $("#digital02").attr("src", data+"?VAR_tval"); });
			$.get("/readdigital.html?input=04&amp;value=VAR_tval", function (data) { $("#digital03").attr("src", data+"?VAR_tval"); });
			$.get("/readdigital.html?input=05&amp;value=VAR_tval", function (data) { $("#digital04").attr("src", data+"?VAR_tval"); });
			$.get("/readdigital.html?input=06&amp;value=VAR_tval", function (data) { $("#digital05").attr("src", data+"?VAR_tval"); });
			$.get("/readdigital.html?input=07&amp;value=VAR_tval", function (data) { $("#digital06").attr("src", data+"?VAR_tval"); });
			$.get("/readdigital.html?input=08&amp;value=VAR_tval", function (data) { $("#digital07").attr("src", data+"?VAR_tval"); });
			$.get("/readdigital.html?input=09&amp;value=VAR_tval", function (data) { $("#digital08").attr("src", data+"?VAR_tval"); });
			$.get("/readdigital.html?input=10&amp;value=VAR_tval", function (data) { $("#digital09").attr("src", data+"?VAR_tval"); });
			$.get("/readdigital.html?input=11&amp;value=VAR_tval", function (data) { $("#digital10").attr("src", data+"?VAR_tval"); });
			$.get("/readdigital.html?input=12&amp;value=VAR_tval", function (data) { $("#digital11").attr("src", data+"?VAR_tval"); });
			$.get("/readdigital.html?input=13&amp;value=VAR_tval", function (data) { $("#digital12").attr("src", data+"?VAR_tval"); });
			$.get("/readdigital.html?input=14&amp;value=VAR_tval", function (data) { $("#digital13").attr("src", data+"?VAR_tval"); });

			
		}, VAR_update_rate ); // refresh every 2000 milliseconds
	
	}
	</script>

  </head>
  <body>
  
 	<div class="container">
	
	<nav class="navbar navbar-default" role="navigation">
	
	<div class="container-fluid">	
		<!-- Brand and toggle get grouped for better mobile display -->
		<div class="navbar-header">
		  <!--   <a class="navbar-brand" Maierlogo</a> -->
          <a href="#"><img src="img/maierlogo.png" width="110" height="77" border="0" alt="Home"></a>
		</div>
	
		<div class="collapse navbar-collapse">
		<nav class="navbar-form navbar-left" role="search">
		<div class="btn-group">
			<button onclick="location.href='config_page.html';" class="btn btn-warning">Config</button>

			<button onclick="location.href='code_page.html';" class="btn btn-info">Code</button>
		</div>
		</nav>
		<nav class="navbar-form navbar-right" role="search">
		
		<div class="input-group">
		  <span class="input-group-btn">
		  <button type="button" class="btn btn-default dropdown-toggle" data-toggle="dropdown">
			Board Type <span class="caret"></span>
		  </button>
		  <ul id="arduino_board_list" class="dropdown-menu" role="menu">
			<li><a href="#">Merkurboard Grove-4</a></li>
		  </ul>
		  </span>
		  <p id="arduino_board" class="navbar-text"></p>
		</div>
  
		
		</nav>
	</div>
	</div>
	
	</nav>

<!-- 	<div class="row">
	  <div class="col-xs-8">
 -->		  
	<div class="panel-group" id="accordion">
			<div class="panel panel-default">
			  <div class="panel-heading"><h8>Merkurboard - Grove-4</h8></div>
			  <div class="panel-body">

  <h3 class="sectionedit6" id="steckerbelegung">Pin assignment</h3>
  <div class="level3">
  <div class="table sectionedit7"><table class="inline">
	<tr class="row0">
		<td class="col0" colspan="2"> <br/>
		
		<div class="input-group">
		<span class="input-group-btn">
		  <button id="serial_rate_btn" type="button" class="btn btn-default dropdown-toggle" data-toggle="dropdown">
			 Serial/Dig.<span class="caret"></span>
		  </button>
		  <ul id="serial_rate_list" class="dropdown-menu" role="menu">
			<li><a tabindex="-1" href="#">VAR_bauds1</a></li>
			<li><a tabindex="-1" href="#">VAR_bauds2</a></li>
			<li><a tabindex="-1" href="#">VAR_bauds3</a></li>
			<li><a tabindex="-1" href="#">VAR_bauds4</a></li>
			<li><a tabindex="-1" href="#">VAR_bauds5</a></li>
		  </ul>
		</span>
		<input id="arduino_serial_rate" type="text" class="form-control cl-4">

</td><td class="col2" rowspan="14"><a href="img/merkur-grove4.jpg" class="media" title="de:products:merkur-grove4.jpg"><img src="img/merkur-grove4.jpg" class="media" alt="" width="550" /></a></td><td class="col3" colspan="2"><br/>

		<div class="input-group">
		<span class="input-group-btn">
		  <button id="serial_rate_btn" type="button" class="btn btn-default dropdown-toggle" data-toggle="dropdown">
			 Analog/Dig.<span class="caret"></span>
		  </button>
		  <ul id="serial_rate_list" class="dropdown-menu" role="menu">
			<li><a tabindex="-1" href="#">VAR_bauds1</a></li>
			<li><a tabindex="-1" href="#">VAR_bauds2</a></li>
			<li><a tabindex="-1" href="#">VAR_bauds3</a></li>
			<li><a tabindex="-1" href="#">VAR_bauds4</a></li>
			<li><a tabindex="-1" href="#">VAR_bauds5</a></li>
		  </ul>
		</span>
		<input id="arduino_serial_rate" type="text" class="form-control cl-4">

</td>
	</tr>
	<tr class="row1">
		<td class="col0">J3:1 </td><td class="col1">GND</td><td class="col2">A5/D20 </td><td class="col3">J2:4 </td>
	</tr>
	<tr class="row2">
		<td class="col0">J3:2 </td><td class="col1">3.3V</td><td class="col2">A4/D19</td><td class="col3">J2:3 </td>
	</tr>
	<tr class="row3">
		<td class="col0">J3:3 </td><td class="col1">TxD1/D6</td><td class="col2">3.3V </td><td class="col3">J2:3 </td>
	</tr>
	<tr class="row4">
		<td class="col0">J3:4 </td><td class="col1">RxD1/D7</td><td class="col2">GND </td><td class="col3">J2:1 </td>
	</tr>
	<tr class="row5">
		<td class="col0"> </td><td class="col1"> </td><td class="col2"> </td><td class="col3"> </td>
	</tr>
	<tr class="row6">
		<td class="col0" colspan="2">
		
		<div class="input-group">
		<span class="input-group-btn">
		  <button id="serial_rate_btn" type="button" class="btn btn-default dropdown-toggle" data-toggle="dropdown">
			 Dig. PWM<span class="caret"></span>
		  </button>
		  <ul id="serial_rate_list" class="dropdown-menu" role="menu">
			<li><a tabindex="-1" href="#">VAR_bauds1</a></li>
			<li><a tabindex="-1" href="#">VAR_bauds2</a></li>
			<li><a tabindex="-1" href="#">VAR_bauds3</a></li>
			<li><a tabindex="-1" href="#">VAR_bauds4</a></li>
			<li><a tabindex="-1" href="#">VAR_bauds5</a></li>
		  </ul>
		</span>
		<input id="arduino_serial_rate" type="text" class="form-control cl-4">

		
		 </td><td class="col2" colspan="2">
			 
		<div class="input-group">
		<span class="input-group-btn">
		  <button id="serial_rate_btn" type="button" class="btn btn-default dropdown-toggle" data-toggle="dropdown">
			 I2C/Dig.<span class="caret"></span>
		  </button>
		  <ul id="serial_rate_list" class="dropdown-menu" role="menu">
			<li><a tabindex="-1" href="#">VAR_bauds1</a></li>
			<li><a tabindex="-1" href="#">VAR_bauds2</a></li>
			<li><a tabindex="-1" href="#">VAR_bauds3</a></li>
			<li><a tabindex="-1" href="#">VAR_bauds4</a></li>
			<li><a tabindex="-1" href="#">VAR_bauds5</a></li>
		  </ul>
		</span>
		<input id="arduino_serial_rate" type="text" class="form-control cl-4">


	</tr>
	<tr class="row7">
		<td class="col0">J4:1 </td><td class="col1">GND</td><td class="col2">SDA/D8</td><td class="col3">J1:4</td>
	</tr>
	<tr class="row8">
		<td class="col0">J4:2 </td><td class="col1">3.3V</td><td class="col2">SCL/D9</td><td class="col3">J1:3 </td>
	</tr>
	<tr class="row9">
		<td class="col0">J4:3 </td><td class="col1">PWM/D14</td><td class="col2">3.3V</td><td class="col3">J1:2 </td>
	</tr>
	<tr class="row10">
		<td class="col0">J4:4 </td><td class="col1">PWM/D3</td><td class="col2">GND</td><td class="col3">J1:1 </td>
	</tr>
	<tr class="row11">
		<td class="col0"> </td><td class="col1"> </td><td class="col2"> </td><td class="col3"> </td>
	</tr>
	<tr class="row12">
		<td class="col0"> </td><td class="col1"> </td><td class="col2"> </td><td class="col3"> </td>
	</tr>
	<tr class="row13">
		<td class="col0"> </td><td class="col1"> </td><td class="col2"> </td><td class="col3"> </td>
	</tr>
    </table></div>

		</div>
	   </div>		
	  </div>
	  </div>
<!--	 
	  </div>
	</div>
 -->	
	<div class="panel-group" id="accordion">
	  <div class="panel panel-default">
		<div class="panel-heading">
		  <h4 class="panel-title">
			<a data-toggle="collapse" data-parent="#accordion" href="#collapseOne">
			  <h8>Notes</h8>
			</a>
		  </h4>
		</div>
		<div id="collapseOne" class="panel-collapse collapse in">
		  <div class="panel-body">
			  <p>On Merkurboard devices must share the digital outputs<br>
			  with the analog outputs. The result is a single<br>
			  pin can be used to drive digital or analog outputs.<br>
			  Use the config to define how your Merkurboard is used.</p>
		  </div>
		</div>
	  </div>	
	</div>	

	<div class="panel-group" id="accordion">
	  <div class="panel panel-default">
		<div class="panel-heading">
		  <h4 class="panel-title">
			<a data-toggle="collapse" data-parent="#accordion" href="#collapseOne">
			  <h8>Logging</h8>
			</a>
		  </h4>
		</div>
		<div id="collapseOne" class="panel-collapse collapse in">
		  <div class="panel-body">
			<div id="comms_log" style="height:200px;overflow: auto">
			</div>
		  </div>
		</div>
	  </div>	
	</div>	
	
	</div> <!-- container -->
	
    <!-- Load JS here for greater good =============================-->
	<script src="js/bootstrap.js"></script>		
	<script src="js/raphael.2.1.0.min.js"></script>
    <script src="js/justgage.1.0.1.min.js"></script>
  <script>
		$("[data-slider]")
		.each(function () {
		  var input = $(this);
		  $("<span>")
			.addClass("output")
			.insertAfter($(this));
		})
		.bind("slider:ready slider:changed", function (event, data) {
		  $(this)
			.nextAll(".output:first")
			  .html(data.value.toFixed(3));
		});
  </script>
  </body>
</html>
